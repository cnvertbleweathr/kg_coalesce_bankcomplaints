fileVersion: 1
id: 9062d978-c7f1-4180-bd6b-ff771bbece7d
name: STG_MORTGAGES_LOANS
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: MAIN_STORAGE
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 69c16eff-3866-4e4b-92a0-373167ef9ea4
          stepCounter: 9062d978-c7f1-4180-bd6b-ff771bbece7d
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        name: row_id
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 5af55628-478e-4941-b12e-78c3fc7d2a2f
                stepCounter: 776521f0-1c79-4b73-a626-1b5220605fea
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 93141e26-2023-45b9-b00c-6e410c39f29f
          stepCounter: 9062d978-c7f1-4180-bd6b-ff771bbece7d
        config: {}
        dataType: VARCHAR(500)
        description: ""
        name: product
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 8a2b561b-8d35-4019-a508-fdfac99692bc
                stepCounter: 776521f0-1c79-4b73-a626-1b5220605fea
            transform: CASE WHEN "product" = 'mortgages_and_loans' then 'MORTGAGES AND LOANS' ELSE "product" END
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 9b1129fb-5f68-41f6-bc63-0767ddc27048
          stepCounter: 9062d978-c7f1-4180-bd6b-ff771bbece7d
        config: {}
        dataType: VARCHAR(20000)
        description: ""
        name: narrative
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 3303838d-465c-4c30-b100-d9985d11dfce
                stepCounter: 776521f0-1c79-4b73-a626-1b5220605fea
            transform: UPPER("narrative")
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          Bank_Complaints: 776521f0-1c79-4b73-a626-1b5220605fea
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: MAIN_STORAGE
            nodeName: Bank_Complaints
        join:
          joinCondition: FROM {{ ref('MAIN_STORAGE', 'Bank_Complaints') }} "Bank_Complaints" WHERE "product" = 'mortgages_and_loans'
        name: STG_MORTGAGES_LOANS
        noLinkRefs: []
  name: STG_MORTGAGES_LOANS
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
